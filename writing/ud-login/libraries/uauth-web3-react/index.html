<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="description" content="Low carb ludic software">
	<meta name="author" content="Andrew Mushel">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@almushel" />
	<meta name="twitter:creator" content="@almushel" />
	<meta property='og:title' content="UAuth Web3-React Library | Andrew Mushel" />
	<meta property="og:description" content="Low carb ludic software">
	<meta property="og:url" content="https://andrewmushel.com" />
	<meta property="og:image" content="/files/images/am_sd_site_banner.jpg" />
	<meta property="og:type" content="website" />

	<title>UAuth Web3-React Library | Andrew Mushel</title>

	<link rel="icon" href="/files/images/am.png">
	<link rel="stylesheet" href="/files/css/styles.css">
	<script src="/files/js/main.js" type="module"></script>

</head>

<body>
	<div id="top" class="top-banner">
		<a href="/" title="Andrew Mushel" class="top-banner-title">Andrew Mushel</a>

		<nav class="social-links">
			<a href="https://github.com/almushel/" title="Github" rel="external" target="\_blank">
				<img class="icon" src="/files/images/github.svg"/>
			</a>
			<a href="https://almushel.itch.io" title="itch.io" rel="external" target="\_blank">
				<img class="icon" src="/files/images/itch.svg"/>
			</a>
			<a href="https://soundcloud.com/almushel" title="SoundCloud" rel="external" target="\_blank">
				<img class="icon" src="/files/images/soundcloud.svg"/>
			</a>
			<a href="https://twitter.com/almushel" title="Twitter" rel="external" target="\_blank">
					<img class="icon" src="/files/images/twitter.svg"/>
			</a>
			<a href="http://linkedin.com/in/andrew-mushel" title="LinkedIn" rel="external" target="\_blank">
				<img class="icon" src="/files/images/linkedin.svg"/>
			</a>
		</nav>
	</div>
	<nav id="top-nav">
		<div class="nav-menu">
			<a title="Technical Writing" href="/writing">Technical Writing</a>
			<a title="Software & Games" href="/dev">Software & Games</a>
			<a title="Audio" href="/audio">Audio</a>
			<a title="Articles" href="/articles">Articles</a>
			<a title="Resume" href="/resume">Resume</a>
		</div>
	</nav>
	<div class="content">
<h1 id="uauth-web3-react-library">UAuth Web3-React Library</h1><p>The <code>@uauth/web3-react</code> library is a middleware library used for integrating UAuth with web3-react applications.</p><h2 id="uauthconnector">UAuthConnector</h2><p>The <code>UAuthConnector</code> class is the default export of the <code>@uauth/web3-react</code> library.</p><h3 id="constructor">constructor</h3><pre class="language-typescript">class UAuthConnector extends Connector {
  constructor({actions, options, onError}: UAuthConnectorConstructorArgs) {}
}

const uauthConnector = new UAuthConnector(args);</pre><h3 id="registeruauth">registerUAuth()</h3><p>Assigns pkg to <code>UAuthConnector.UAuth</code>.</p><pre class="language-typescript">static registerUAuth(pkg: typeof UAuth): void</pre><h3 id="importuauth">importUAuth()</h3><p>Dynamically imports UAuth and assigns it to <code>UAuthConnector.UAuth</code>.</p><pre class="language-typescript">public static async importUAuth(): Promise&lt;void&gt;</pre><h3 id="callbackandactivate">callbackAndActivate()</h3><p>Calls the <a href="../uauth-js#logincallback">loginCallback()</a> method of <a href="#uauth">this.uauth</a> and activates the connector using the activate argument.</p><pre class="language-typescript">async callbackAndActivate&lt;T&gt;(
  options: ConnectorLoginCallbackOptions,
): Promise&lt;void&gt;</pre><h3 id="uauth">uauth</h3><p>Returns the local UAuth instance.</p><pre class="language-typescript">public get uauth(): UAuth</pre><h3 id="subconnector">subConnector</h3><p>Returns the connector used internally to connect to <code>web3-react</code>.</p><pre class="language-typescript">public get subConnector(): Connector &amp; {
  isAuthorized?(): Promise&lt;boolean&gt;
}</pre><h2 id="uauthconnectors">UAuthConnectors</h2><pre class="language-typescript">interface UAuthConnectors {
  injected: Connector
  walletconnect: Connector
}</pre><h2 id="uauthconnectorconstructorargs">UAuthConnectorConstructorArgs</h2><p>The arguments object passed to the UAuthConnector <a href="#constructor">constructor</a>.</p><pre class="language-typescript">interface UAuthConnectorConstructorArgs {
  actions: Actions
  options: UAuthConstructorOptions &amp; {
    uauth?: UAuth
    connectors: UAuthConnectors
    shouldLoginWithRedirect?: boolean
  }
  onError?: (error: Error) =&gt; void
}</pre><h3 id="optionsshouldloginwithredirect">options.shouldLoginWithRedirect</h3><p>If <code>shouldLoginWithRedirect</code> is set to <code>true</code>, the <a href="#uauthconnector">uauthConnector</a> instance will use the <a href="../uauth-js#login">login()</a> method instead of the default, <a href="../uauth-js#loginwithpopup">loginWithPopup()</a>.</p><p>Then you must set up a callback page for the authorization server to redirect back to.</p><pre class="language-javascript">import {uauth} from &#39;./connectors&#39;

// On page load...

const {activate} = useWeb3React()

useEffect(() =&gt; {
  uauth
    .callbackAndActivate({activate})
    .then(() =&gt; {
      // Redirect to success page
    })
    .catch(error =&gt; {
      // Redirect to failure page
    })
}, [])</pre><h2 id="connectorlogincallbackoptions">ConnectorLoginCallbackOptions</h2><pre class="language-typescript">interface ConnectorLoginCallbackOptions {
  url?: string
  activate: (
    connector: Connector,
    onError?: (error: Error) =&gt; void,
    throwErrors?: boolean,
  ) =&gt; Promise&lt;void&gt;
  onError?: (error: Error) =&gt; void
  throwErrors?: boolean
}</pre>
	</div>
	<footer>
Â© Andrew Mushel 2024
	</footer>
</body>

</html>
